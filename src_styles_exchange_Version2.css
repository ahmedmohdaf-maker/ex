/* ===== RESET & THEME ===== */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Arial',sans-serif}
html,body{height:100%;overflow:hidden}
body{
  overflow:hidden;
  background:radial-gradient(circle at center,#0c0014,#1a002b 80%);
  color:#fff;scroll-behavior:smooth;min-height:100vh;
}
:root{
  --accent-1:#b445ff;--accent-2:#7013ff;
  --glass:rgba(255,255,255,0.05);--glass-2:rgba(255,255,255,0.03);
  --suggest-bg:rgba(25,0,50,0.98);
  --shadow:0 0 25px rgba(180,0,255,0.3);
  --container-max:520px;
  --glass-btn-bg:rgba(255,255,255,0.03);
  --glass-btn-border:rgba(255,255,255,0.06);
  --yellow-cta:#ffcf33;
  --toast-info-grad: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  --disabled-glass: rgba(255,255,255,0.02);
  --focus-ring: 0 0 0 4px rgba(180,68,255,0.08);
}

/* NEBULA + PARTICLES */
body::before{
  content:'';
  position:fixed;
  left:-50%;
  top:-50%;
  width:200%;
  height:200%;
  background:radial-gradient(circle,rgba(150,0,255,0.12),transparent 60%);
  animation:nebulaMove 35s infinite alternate ease-in-out;
  z-index:0;
  pointer-events:none;
}
@keyframes nebulaMove{
  0%{transform:translate(-10%,-10%)}
  100%{transform:translate(5%,5%)}
}

. particle{
  position:absolute;
  width:4px;
  height:3px;
  background:#b445ff;
  border-radius:50%;
  opacity:0.8;
  animation:floatParticle linear infinite;
  z-index:-1;
}
@keyframes floatParticle{
  0%{transform:translateY(0) translateX(0);opacity:0.8}
  50%{transform:translateY(-50px) translateX(20px);opacity:0.4}
  100%{transform:translateY(0) translateX(0);opacity:0.8}
}

/* TOP LOGO moved down to sit above section */
.logo{
  width:84px;
  height:auto;
  display:block;
  margin:0 auto;
  pointer-events:none;
  animation:logoGlow 25s ease-in-out infinite alternate,logoRotate 45s linear infinite;
  z-index:998;
  position:fixed;
  left:50%;
  top:8vh;
  transform:translateX(-50%);
}
@keyframes logoGlow{
  0%{filter:drop-shadow(0 0 12px #9c00ff)}
  50%{filter:drop-shadow(0 0 30px #d15fff)}
  100%{filter:drop-shadow(0 0 12px #9c00ff)}
}
@keyframes logoRotate{
  0%{transform:translateX(-50%) rotateY(0deg)}
  100%{transform:translateX(-50%) rotateY(360deg)}
}

/* SECTION WRAPPER - CENTER EVERYTHING */
.section-wrapper {
  min-height: 100vh;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  gap: 18px;
  padding: 28px;
  margin-top: 20vh;
  position: relative;
  z-index: 1;
}

/* CARD */
.container{
  width:90%;
  max-width:var(--container-max);
  margin:9px;
  background:var(--glass);
  border:1px solid rgba(255,255,255,0.08);
  border-radius:25px;
  padding:22px;
  backdrop-filter:blur(18px);
  box-shadow:0 0 25px rgba(180,0,255,0.2);
  animation:cardIn 0.6s ease-out;
}
@keyframes cardIn{
  from{opacity:0;transform:translateY(18px)}
  to{opacity:1;transform:translateY(0)}
}
h2{
  text-align:center;
  font-size:26px;
  font-weight:600;
  margin-bottom:14px;
  color:#e0b3ff;
  text-shadow:0 0 8px #b445ff;
}

/* UNIFIED ROW - compact "thin bar" look */
.input-box{
  margin-top:14px;
  padding:8px 10px;
  background:rgba(255,255,255,0.03);
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  display:flex;
  align-items:center;
  gap:10px;
  position:relative;
  box-shadow:0 0 12px rgba(180,0,255,0.08);
}
.input-box . left{
  display:flex;
  align-items:center;
  gap:8px;
  min-width:0;
  flex:1;
}

/* chosen tokens: professional rounded-rectangle icons (not circular) */
.token-icon{
  width:36px;
  height:36px;
  border-radius:8px;
  background:transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  flex-shrink:0;
  position:relative;
  border:1px solid rgba(255,255,255,0.1);
}
.token-icon img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  border-radius:8px;
  z-index:6;
}
.token-chip{
  position:absolute;
  right:-8px;
  bottom:-8px;
  background:linear-gradient(90deg,var(--accent-1),var(--accent-2));
  padding:3px 7px;
  border-radius:999px;
  font-weight:800;
  font-size:10px;
  color:#fff;
  box-shadow:0 2px 8px rgba(180,0,255,0.3);
  display:none;
}
.input-box.has-token .token-chip{
  display:inline-flex;
}

/* token info (symbol + 24h change) - placed neatly next to icon */
.token-symbol{
  display:none;
}
.token-info{
  display:flex;
  flex-direction:column;
  gap:2px;
  min-width:60px;
}
.token-symbol{
  font-weight:700;
  font-size:14px;
  color:#e0b3ff;
}
.token-change{
  font-size:12px;
  opacity:0.95;
  color:#b445ff;
}

/* SUGGESTIONS container (internal scroll only) */
.suggestions{
  position:absolute;
  top:68px;
  left:12px;
  right:12px;
  background:var(--suggest-bg);
  border-radius:12px;
  padding:6px;
  max-height:240px;
  overflow:auto;
  display:none;
  z-index:220;
  box-shadow:0 10px 30px rgba(0,0,0,0.5);
  -webkit-overflow-scrolling:touch;
}
.suggestion-item{
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px;
  border-radius:10px;
  cursor:pointer;
  justify-content:space-between;
  transition:0.2s ease;
}
.suggestion-item:hover{
  background:linear-gradient(90deg, rgba(180,68,255,0.06), rgba(112,19,255,0.04));
}
.suggestion-left{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}
.suggestion-left img{
  width:28px;
  height:28px;
  border-radius:50%;
  object-fit:cover;
}
.suggestion-main{
  display:flex;
  flex-direction:column;
  min-width:0;
}
.suggestion-symbol{
  font-weight:700;
  font-size:13px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.suggestion-name{
  font-size:12px;
  opacity:0.8;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.suggestion-price-pill{
  min-width:70px;
  text-align:right;
  padding:6px 8px;
  border-radius:8px;
  background:rgba(255,255,255,0.03);
  font-weight:700;
  font-size:12px;
}

/* INPUT BLOCK (single visible text input per row) */
.input-field{
  display:flex;
  flex-direction:column;
  min-width:0;
  width:100%;
}
.input-field input[type="text"]{
  padding:8px 10px;
  border-radius:8px;
  border:none;
  background:transparent;
  color:#fff;
  width:100%;
  outline:none;
  font-size:14px;
}
.input-amount{
  margin-left:8px;
  min-width:120px;
}
.input-amount input{
  width:100%;
  padding:8px 10px;
  border-radius:8px;
  border:none;
  background:rgba(255,255,255,0.03);
  color:#fff;
  font-size:14px;
  outline:none;
}

/* small price area under amount/estimate - align to right without covering icons */
.price-small{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  margin-left:auto;
  margin-top:6px;
  min-width:120px;
  z-index:2;
}
.price-small . price-usd{
  font-size:12px;
  opacity:0.85;
}
.price-small .price-unit{
  font-size:12px;
  opacity:0. 65;
}

/* SWAP CONTROLS */
.controls{
  margin-top:14px;
  display:flex;
  align-items:center;
  gap:12px;
  justify-content:space-between;
}
.swap-outside{
  width:46px;
  height:46px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.06);
  cursor:pointer;
  color:#fff;
  font-size:20px;
  box-shadow:0 0 12px rgba(180,0,255,0.1);
  transition:0.2s ease;
}
.swap-outside:hover{
  box-shadow:0 0 20px rgba(180,0,255,0.2);
}
.swap-outside:active{
  transform:translateY(1px);
  box-shadow:none;
}

/* custom slippage dropdown */
.slippage-wrap{
  position:relative;
  display:inline-block;
}
.slippage-display{
  padding:8px 12px;
  border-radius:10px;
  background:var(--glass);
  color:#fff;
  border:1px solid rgba(255,255,255,0.06);
  font-weight:800;
  font-size:13px;
  box-shadow:0 8px 22px rgba(106,0,255,0.12);
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:8px;
  transition:0. 2s ease;
}
. slippage-display:hover{
  background:rgba(255,255,255,0.06);
}
.slippage-list{
  position:absolute;
  right:0;
  top:calc(100% + 8px);
  background:var(--glass);
  border:1px solid rgba(255,255,255,0.06);
  border-radius:10px;
  padding:6px;
  box-shadow:var(--shadow);
  min-width:120px;
  display:none;
  z-index:230;
}
.slippage-list.open{
  display:block;
}
.slippage-item{
  padding:8px 10px;
  border-radius:8px;
  cursor:pointer;
  font-weight:700;
  white-space:nowrap;
  transition:0.2s ease;
}
.slippage-item:hover{
  background:linear-gradient(90deg, rgba(180,68,255,0.06), rgba(112,19,255,0.04));
}

/* GLASSY BUTTON (replaces electric pill) */
.glassy-btn{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:10px 20px;
  border-radius:12px;
  background:var(--glass-btn-bg);
  border:1px solid var(--glass-btn-border);
  color:#fff;
  font-weight:800;
  font-size:15px;
  cursor:pointer;
  transition:transform 120ms ease,box-shadow 120ms ease,background 120ms ease;
  backdrop-filter:blur(6px);
}
.glassy-btn:hover{
  box-shadow:0 0 20px rgba(180,0,255,0.15);
}
.glassy-btn:active{
  transform:translateY(1px);
  box-shadow:none;
}
.glassy-btn[disabled]{
  opacity:0. 45;
  cursor:not-allowed;
  box-shadow:none;
  border:1px solid rgba(255,255,255,0.02);
  background:var(--disabled-glass);
}
.glassy-btn. connected{
  background:linear-gradient(90deg,var(--accent-1),var(--accent-2));
  color:#fff;
}

/* center main swap button */
.swap-row{
  margin-top:14px;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
}

/* yellow quick-swap CTA */
.quick-cta{
  background:linear-gradient(90deg,var(--yellow-cta),#f7b400);
  color:#1b1b1b;
  padding:10px 16px;
  border-radius:12px;
  border:none;
  font-weight:900;
  cursor:pointer;
  display:inline-flex;
  gap:8px;
  align-items:center;
  box-shadow:0 10px 30px rgba(255,200,50,0.12);
  transition:0.2s ease;
}
.quick-cta:hover{
  box-shadow:0 10px 40px rgba(255,200,50,0.2);
}
.quick-cta:active{
  transform:translateY(1px);
  box-shadow:none;
}
.quick-cta[disabled]{
  opacity:0. 5;
  cursor:not-allowed;
}

/* tiny glassy tooltip / toast */
.toast{
  position:fixed;
  right:18px;
  bottom:90px;
  z-index:9999;
  padding:12px 18px;
  border-radius:12px;
  background:var(--toast-info-grad);
  backdrop-filter:blur(8px);
  box-shadow:0 10px 40px rgba(0,0,0,0.5);
  color:#fff;
  font-size:13px;
  pointer-events:auto;
}
.toast a{
  color:#fff;
  font-weight:900;
  text-decoration:underline;
}

/* TOP-RIGHT CONNECT */
.top-right-connect{
  position:fixed;
  right:18px;
  top:18px;
  z-index:70;
  display:flex;
  gap:10px;
  align-items:center;
}
.addr-chip{
  padding:8px 12px;
  border-radius:12px;
  background:rgba(255,255,255,0.03);
  font-weight:700;
  display:none;
}
.connect-floating{
  background:linear-gradient(90deg,var(--glass-btn-bg),var(--glass-btn-bg));
  color:#fff;
  padding:10px 14px;
  border-radius:12px;
  border:1px solid var(--glass-btn-border);
  cursor:pointer;
  font-weight:700;
  font-size:13px;
  transition:0.2s ease;
  box-shadow:0 0 12px rgba(180,0,255,0.1);
}
.connect-floating:hover{
  box-shadow:0 0 20px rgba(180,0,255,0.15);
}

/* footer */
.footer{
  position:fixed;
  left:0;
  right:0;
  bottom:12px;
  display:flex;
  flex-direction:column;
  gap:6px;
  align-items:center;
  justify-content:center;
  z-index:40;
  color:rgba(255,255,255,0.75);
  font-size:13px;
}
.footer a{
  color:rgba(215,165,255,0.95);
  text-decoration:none;
  font-weight:700;
  margin-left:8px;
}

/* CHAT TOGGLE BUTTON */
.chat-toggle {
  position: fixed;
  right: 20px;
  bottom: 20px;
  background: #7A4988;
  padding: 10px 14px;
  border-radius: 20px;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(180, 0, 255, 0.35);
  z-index: 2000;
  transition: 0.3s ease;
  font-weight: 800;
  font-size: 13px;
  border: none;
  color: #fff;
}
.chat-toggle:hover{
  box-shadow:0 0 25px rgba(180,0,255,0.5);
}

/* SLIDING CHAT PANEL */
.chat-sidebar {
  position: fixed;
  right: -350px;
  top: 20%;
  width: 320px;
  height: 60%;
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(14px);
  border-radius: 20px 0 0 20px;
  padding: 15px;
  box-shadow: 0 0 25px rgba(0,0,0,0.4);
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  transition: right 0.35s ease;
  z-index: 1999;
  -webkit-overflow-scrolling:touch;
}

/* OPEN STATE */
.chat-sidebar.open {
  right: 20px;
}

/* MESSAGE BUBBLES */
.chat-msg {
  margin-bottom: 12px;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(255,255,255,0.04);
  font-size: 14px;
  word-break: break-word;
  animation:fadeInUp 0.3s ease;
}

/* INPUT AREA */
.chat-input {
  display: flex;
  margin-top: auto;
  gap: 6px;
}

. chat-input input {
  flex: 1;
  padding: 8px 10px;
  border-radius: 12px;
  border: none;
  background: rgba(255,255,255,0.05);
  color: white;
  outline: none;
  font-size: 13px;
}

.chat-input button {
  padding: 8px 12px;
  border-radius: 12px;
  border: none;
  background: #7A4988;
  color: white;
  cursor: pointer;
  font-weight: 700;
  transition:0.2s;
}
.chat-input button:hover{
  background:#8b5a9e;
}

/* USERNAME MODAL */
#usernameModal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  backdrop-filter: blur(10px);
  background: rgba(0,0,0,0.6);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 3000;
}

#usernameModal .modal-content {
  background: rgba(255,255,255,0.07);
  padding: 25px;
  border-radius: 20px;
  text-align: center;
  width: 300px;
  box-shadow: 0 0 30px rgba(180,0,255,0.2);
}

#usernameModal input {
  width: 85%;
  padding: 10px;
  border-radius: 12px;
  border: none;
  margin-top: 12px;
  background: rgba(255,255,255,0.06);
  color: white;
  outline: none;
}

#usernameModal button {
  margin-top: 15px;
  padding: 10px 20px;
  border-radius: 12px;
  border: none;
  background: linear-gradient(135deg,#b445ff,#7013ff);
  cursor: pointer;
  color: white;
  font-weight: 700;
}

/* spinner */
.btn-spinner{
  width:16px;
  height:16px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,0.2);
  border-top-color:rgba(255,255,255,1);
  animation:spin 700ms linear infinite;
  display:inline-block;
}
@keyframes spin{
  to{transform:rotate(360deg);
}
}

/* ====== Button press & tap fixes ====== */
button,
button[class],
. glassy-btn,
.quick-cta,
.connect-floating,
.swap-outside,
.chat-toggle,
.slippage-display,
.slippage-item,
input[type="button"],
input[type="submit"],
a.button,
a.btn {
  -webkit-tap-highlight-color: transparent;
  outline: none ! important;
  -webkit-focus-ring-color: transparent;
  -webkit-appearance: none;
  touch-action: manipulation;
  user-select: none;
  transition: transform 120ms cubic-bezier(. 2,.9,.2,1), box-shadow 120ms ease, opacity 120ms ease;
  will-change: transform, box-shadow;
}

a.button, a.btn { 
  -webkit-tap-highlight-color: transparent; 
}

button:active,
. glassy-btn:active,
.quick-cta:active,
.connect-floating:active,
.swap-outside:active,
.chat-toggle:active,
.slippage-display:active,
.slippage-item:active {
  transform: translateY(1px) scale(0.996);
  box-shadow: 0 6px 16px rgba(0,0,0,0.35) ! important;
  opacity: 0.995;
  transition: transform 80ms cubic-bezier(.05,.6,.2,1), box-shadow 80ms ease;
  -webkit-tap-highlight-color: transparent;
}

button:focus-visible,
.glassy-btn:focus-visible,
.quick-cta:focus-visible,
.connect-floating:focus-visible,
.swap-outside:focus-visible,
.chat-toggle:focus-visible,
. slippage-display:focus-visible,
.slippage-item:focus-visible {
  outline: none;
  box-shadow: 0 0 0 6px rgba(180,68,255,0.08), 0 10px 30px rgba(106,0,255,0.06);
  border-radius: 12px;
}

button::-moz-focus-inner { 
  border: 0; 
}

button:active, 
. glassy-btn:active, 
.quick-cta:active { 
  -webkit-user-select: none; 
  -ms-user-select: none; 
  user-select: none; 
}

* { 
  -webkit-tap-highlight-color: transparent ! important; 
}

/* small screen polish */
@media(max-width:720px){
  .section-wrapper{
    padding:18px;
    gap:12px;
    flex-direction:column-reverse;
  }
  . container{
    width:100%;
    max-width:520px;
  }
  . input-box . token-chip{
    font-size:10px;
    padding:3px 6px;
    right:-4px;
    bottom:-4px;
  }
  .logo{
    top:6vh;
    width:72px;
  }
}

@keyframes fadeInUp {
  from { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}